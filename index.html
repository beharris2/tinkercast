<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Video Feedback with Timestamps</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    iframe { width: 100%; height: 400px; border: 1px solid #ccc; margin-bottom: 20px; }
    #comments { margin-top: 20px; }
    .comment-box { margin-bottom: 10px; border: 1px solid #ccc; padding: 10px; background: #f9f9f9; }
  </style>
</head>
<body>

<h2>üé• Watch the Video & Leave a Comment</h2>

<!-- Embed Google Drive Video -->
<video id="videoPlayer" controls>
  <source src="https://drive.google.com/uc?export=download&id=YOUR_VIDEO_ID_HERE" type="video/mp4">
  Your browser does not support the video tag.
</video>

<!-- Comment Form -->
<div id="comments">
  <h3>üí¨ Add a Comment</h3>
  <form id="commentForm">
    <input type="hidden" id="timestamp">
    <label for="comment">Your Comment:</label><br>
    <textarea id="comment" rows="3" cols="50" required></textarea><br><br>
    <button type="submit">Submit Comment (Auto-Timestamped)</button>
  </form>

  <h3>üóíÔ∏è Comments</h3>
  <div id="commentList"></div>
</div>

<script>
  const video = document.getElementById('videoPlayer');
  const timestampInput = document.getElementById('timestamp');

  // Set timestamp just before submission
  document.getElementById("commentForm").addEventListener("submit", function(event) {
    event.preventDefault();

    const currentTime = video.currentTime;
    const minutes = Math.floor(currentTime / 60);
    const seconds = Math.floor(currentTime % 60).toString().padStart(2, '0');
    const timestamp = `${minutes}:${seconds}`;

    const commentText = document.getElementById("comment").value;

    const commentBox = document.createElement("div");
    commentBox.className = "comment-box";
    commentBox.innerHTML = `<strong>${timestamp}</strong>: ${commentText}`;
    document.getElementById("commentList").appendChild(commentBox);

    document.getElementById("comment").value = "";
  });
</script>

</body>
</html>
